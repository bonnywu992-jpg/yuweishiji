<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ¸å‘³é£Ÿè¨˜ - å››å·æ¿ƒé¦™å‹è¾£æ¤’é†¬</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Microsoft JhengHei', Arial, sans-serif; background: linear-gradient(135deg, #d32f2f 0%, #f44336 100%); min-height: 100vh; padding: 20px; }
.container { max-width: 800px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden; }
.header { background: linear-gradient(135deg, #b71c1c 0%, #d32f2f 100%); color: white; padding: 40px 30px; text-align: center; }
.header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
.header p { font-size: 1.1em; opacity: 0.95; }
.ig-link { display: inline-block; margin-top: 10px; padding: 8px 20px; background: rgba(255,255,255,0.2); border-radius: 20px; color: white; text-decoration: none; transition: background 0.3s; }
.ig-link:hover { background: rgba(255,255,255,0.3); }
.product-section { padding: 40px 30px; }
.product-card { background: linear-gradient(135deg, #fff5f5 0%, #ffebee 100%); border-radius: 15px; padding: 30px; border: 3px solid #f44336; }
.product-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; margin-bottom: 20px; }
.product-name { font-size: 1.8em; color: #b71c1c; font-weight: bold; }
.product-price { font-size: 1.6em; color: #d32f2f; font-weight: bold; }
.special-badge { display: inline-block; background: #ff6b6b; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.9em; margin-left: 10px; }
.highlight { background: #fff3bf; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #f44336; }
.highlight strong { color: #b71c1c; }
.form-group { margin: 20px 0; }
.form-group label { display: block; margin-bottom: 8px; color: #333; font-weight: bold; }
.form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; transition: border-color 0.3s; }
.form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #f44336; }
.quantity-control { display: flex; align-items: center; gap: 15px; }
.quantity-control button { width: 40px; height: 40px; border: none; background: #f44336; color: white; font-size: 1.5em; border-radius: 8px; cursor: pointer; transition: background 0.3s; user-select: none; }
.quantity-control button:hover { background: #d32f2f; }
.quantity-control button:active { transform: scale(0.95); }
.quantity-control input { width: 80px; text-align: center; font-size: 1.2em; font-weight: bold; pointer-events: none; }
.total-section { background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; transition: all 0.3s ease; }
.total-row { display: flex; justify-content: space-between; margin: 10px 0; font-size: 1.1em; }
.total-row.final { font-size: 1.5em; font-weight: bold; color: #b71c1c; border-top: 2px solid #ddd; padding-top: 10px; margin-top: 15px; }
.notice { background: #fff3bf; padding: 15px; border-radius: 10px; margin: 20px 0; text-align: center; font-weight: bold; color: #b71c1c; border: 2px dashed #ffa94d; transition: all 0.3s ease; }
.submit-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, #b71c1c 0%, #d32f2f 100%); color: white; border: none; border-radius: 12px; font-size: 1.3em; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; margin-bottom: 10px; }
.submit-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(183, 28, 28, 0.4); }
.submit-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; }
.success-message { background: #d3f9d8; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center; color: #2b8a3e; font-weight: bold; border: 2px solid #51cf66; }
.error-message { background: #ffe3e3; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center; color: #b71c1c; font-weight: bold; border: 2px solid #f44336; }
.store-section { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 10px; border: 2px solid #e9ecef; }
.store-region { margin-bottom: 15px; }
.store-region:last-child { margin-bottom: 0; }
.store-region label { font-size: 0.95em; color: #495057; margin-bottom: 5px; }
#addressGroup { display: none; }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>ğŸŒ¶ï¸ æ¸å‘³é£Ÿè¨˜ ğŸŒ¶ï¸</h1>
    <p>å››å·æ¿ƒé¦™å‹è¾£æ¤’é†¬</p>
    <a href="https://www.instagram.com/yuweishiji" target="_blank" class="ig-link">ğŸ“· è¿½è¹¤æˆ‘å€‘çš„ Instagram</a>
  </div>

  <div class="product-section">
    <div class="product-card">
      <div class="product-header">
        <div>
          <span class="product-name">å››å·æ¿ƒé¦™å‹è¾£æ¤’é†¬</span>
          <span class="special-badge">ğŸ”¥ éº»è¾£é®®é¦™</span>
        </div>
        <div class="product-price">NT$ 250 / ç½</div>
      </div>

      <div class="highlight">
        <strong>æ‰‹å·¥è£½ä½œã€ç„¡æ·»åŠ é˜²è…åŠ‘,é–‹å°å¾Œéœ€å†·è—ä¿å­˜ âš ï¸</strong>
      </div>

      <form id="orderForm">
        <div class="form-group">
          <label>è³¼è²·æ•¸é‡</label>
          <div class="quantity-control">
            <button type="button" id="btnMinus">âˆ’</button>
            <input type="number" id="qty" value="1" min="1" readonly>
            <button type="button" id="btnPlus">+</button>
          </div>
        </div>

        <div class="notice" id="freeShipNotice">ğŸ‰ è³¼è²·10ç½(å«)ä»¥ä¸Šå…é‹è²»!</div>

        <div class="form-group"><label>å§“å *</label><input type="text" id="name" required></div>
        <div class="form-group"><label>é›»è©± *</label><input type="tel" id="phone" required placeholder="ä¾‹:0912345678"></div>
        <div class="form-group"><label>Email *</label><input type="email" id="email" required></div>
        
        <div class="form-group">
          <label>å–è²¨æ–¹å¼ *</label>
          <select id="pickup" required>
            <option value="">è«‹é¸æ“‡å–è²¨æ–¹å¼</option>
            <option value="7-11">7-11 è¶…å•†å–è²¨</option>
            <option value="å…¨å®¶">å…¨å®¶è¶…å•†å–è²¨</option>
            <option value="å®…é…">å®…é…</option>
            <option value="é¢äº¤">é¢äº¤ (è«‹å…ˆç§è¨ŠIGç¢ºèª)</option>
          </select>
        </div>

        <div class="form-group" id="storeSelectGroup" style="display:none;">
          <label>é¸æ“‡é–€å¸‚ *</label>
          <div class="store-section" id="storeSection"></div>
        </div>

        <div class="form-group" id="addressGroup">
          <label id="addressLabel">æ”¶è²¨åœ°å€ *</label>
          <textarea id="address" rows="3" placeholder="è«‹å¡«å¯«å®Œæ•´åœ°å€"></textarea>
        </div>

        <div class="form-group">
          <label>åŒ¯æ¬¾å¸³è™Ÿå¾Œ5ç¢¼ *</label>
          <input type="text" id="accountLast5" maxlength="5" pattern="[0-9]{5}" required placeholder="è«‹å¡«å¯«5ä½æ•¸å­—">
        </div>
        <div class="form-group">
          <label>å‚™è¨»</label>
          <textarea id="note" rows="2" placeholder="å…¶ä»–éœ€æ±‚æˆ–å‚™è¨»"></textarea>
        </div>

        <div class="total-section">
          <div class="total-row"><span>å°è¨ˆ:</span><span id="subtotalDisplay">NT$ 250</span></div>
          <div class="total-row"><span>é‹è²»:</span><span id="shippingDisplay">NT$ 130</span></div>
          <div class="total-row final"><span>ç¸½è¨ˆ:</span><span id="totalDisplay">NT$ 380</span></div>
        </div>

        <button type="submit" class="submit-btn" id="submitBtn">ç¢ºèªè¨‚è³¼</button>
        <div id="message"></div>
      </form>
    </div>
  </div>
</div>

<script>
const WEB3FORMS_ACCESS_KEY='63c8b2d8-bddb-46cb-b683-e3c0becf31b';
const MERCHANT_EMAIL='bonnywu992@gmail.com';
var PRICE=250, SHIPPING=130, FREE_SHIPPING_QTY=10;

// é–€å¸‚è³‡æ–™
const storeData = {
  '7-11': {
    'å°åŒ—å¸‚': ['ä¿¡ç¾©é–€å¸‚', 'ä¸­å±±é–€å¸‚', 'å¤§å®‰é–€å¸‚', 'æ¾å±±é–€å¸‚', 'å£«æ—é–€å¸‚', 'å…§æ¹–é–€å¸‚', 'å—æ¸¯é–€å¸‚', 'æ–‡å±±é–€å¸‚'],
    'æ–°åŒ—å¸‚': ['æ¿æ©‹é–€å¸‚', 'æ–°èŠé–€å¸‚', 'ä¸­å’Œé–€å¸‚', 'æ°¸å’Œé–€å¸‚', 'ä¸‰é‡é–€å¸‚', 'æ–°åº—é–€å¸‚', 'åœŸåŸé–€å¸‚', 'è˜†æ´²é–€å¸‚'],
    'æ¡ƒåœ’å¸‚': ['ä¸­å£¢é–€å¸‚', 'å¹³é®é–€å¸‚', 'å…«å¾·é–€å¸‚', 'é¾œå±±é–€å¸‚', 'æ¡ƒåœ’é–€å¸‚', 'é¾æ½­é–€å¸‚', 'å¤§æºªé–€å¸‚'],
    'å°ä¸­å¸‚': ['è¥¿å±¯é–€å¸‚', 'åŒ—å±¯é–€å¸‚', 'å—å±¯é–€å¸‚', 'ä¸­å€é–€å¸‚', 'æ±å€é–€å¸‚', 'å—å€é–€å¸‚', 'åŒ—å€é–€å¸‚', 'è¥¿å€é–€å¸‚'],
    'å°å—å¸‚': ['æ±å€é–€å¸‚', 'ä¸­è¥¿å€é–€å¸‚', 'åŒ—å€é–€å¸‚', 'å—å€é–€å¸‚', 'å®‰å¹³é–€å¸‚', 'æ°¸åº·é–€å¸‚', 'æ–°ç‡Ÿé–€å¸‚'],
    'é«˜é›„å¸‚': ['å·¦ç‡Ÿé–€å¸‚', 'ä¸‰æ°‘é–€å¸‚', 'é³³å±±é–€å¸‚', 'è‹“é›…é–€å¸‚', 'å‰é®é–€å¸‚', 'æ¥ æ¢“é–€å¸‚', 'å°æ¸¯é–€å¸‚', 'å²¡å±±é–€å¸‚']
  },
  'å…¨å®¶': {
    'å°åŒ—å¸‚': ['ä¿¡ç¾©åº—', 'å¿ å­åº—', 'å—äº¬åº—', 'æ°‘ç”Ÿåº—', 'å¾©èˆˆåº—', 'æ•¦åŒ–åº—', 'æ¾æ±Ÿåº—', 'ä¸­å±±åº—'],
    'æ–°åŒ—å¸‚': ['æ¿æ©‹åº—', 'æ–°èŠåº—', 'ä¸­å’Œåº—', 'æ°¸å’Œåº—', 'åœŸåŸåº—', 'ä¸‰é‡åº—', 'æ–°åº—åº—', 'æ±æ­¢åº—'],
    'æ¡ƒåœ’å¸‚': ['ä¸­å£¢åº—', 'å¹³é®åº—', 'å…«å¾·åº—', 'é¾œå±±åº—', 'æ¡ƒåœ’åº—', 'å¤§åœ’åº—', 'è§€éŸ³åº—'],
    'å°ä¸­å¸‚': ['è¥¿å±¯åº—', 'åŒ—å±¯åº—', 'å—å±¯åº—', 'ä¸­å€åº—', 'å¤ªå¹³åº—', 'å¤§é‡Œåº—', 'è±åŸåº—', 'æ²™é¹¿åº—'],
    'å°å—å¸‚': ['æ±å€åº—', 'ä¸­è¥¿å€åº—', 'åŒ—å€åº—', 'å—å€åº—', 'å®‰å¹³åº—', 'æ°¸åº·åº—', 'ä»å¾·åº—'],
    'é«˜é›„å¸‚': ['å·¦ç‡Ÿåº—', 'ä¸‰æ°‘åº—', 'é³³å±±åº—', 'æ¥ æ¢“åº—', 'å°æ¸¯åº—', 'å‰é®åº—', 'è‹“é›…åº—', 'é¼“å±±åº—']
  }
};

var qtyInput=document.getElementById('qty');
var btnPlus=document.getElementById('btnPlus');
var btnMinus=document.getElementById('btnMinus');
var subtotalDisplay=document.getElementById('subtotalDisplay');
var shippingDisplay=document.getElementById('shippingDisplay');
var totalDisplay=document.getElementById('totalDisplay');
var freeShipNotice=document.getElementById('freeShipNotice');
var pickupSelect=document.getElementById('pickup');
var storeSelectGroup=document.getElementById('storeSelectGroup');
var addressGroup=document.getElementById('addressGroup');
var storeSection=document.getElementById('storeSection');
var selectedStore = '';

function generateOrderId(){
    var now=new Date();
    var year=now.getFullYear();
    var month=String(now.getMonth()+1).padStart(2,'0');
    var day=String(now.getDate()).padStart(2,'0');
    var random=Math.floor(Math.random()*10000).toString().padStart(4,'0');
    return 'YW'+year+month+day+random;
}

function updatePrice(){
    var qty=parseInt(qtyInput.value);
    if(isNaN(qty)||qty<1){ qty=1; qtyInput.value=1; }
    var subtotal=PRICE*qty;
    var shipping=(qty>=FREE_SHIPPING_QTY)?0:SHIPPING;
    var total=subtotal+shipping;
    subtotalDisplay.textContent='NT$ '+subtotal;
    shippingDisplay.textContent=(shipping===0)?'å…é‹è²» âœ“':'NT$ '+shipping;
    totalDisplay.textContent='NT$ '+total;

    if(qty<FREE_SHIPPING_QTY){
        var left=FREE_SHIPPING_QTY-qty;
        freeShipNotice.textContent='å†è²· '+left+' ç½å³å¯å…é‹ ğŸ';
        freeShipNotice.style.background='#fff3bf';
    } else {
        freeShipNotice.textContent='ğŸ‰ å·²é”å…é‹é–€æª»!æ­å–œçœä¸‹ NT$ '+SHIPPING+' é‹è²»!';
        freeShipNotice.style.background='#d3f9d8';
    }
}

function renderStoreOptions(pickupMethod) {
    storeSection.innerHTML = '';
    selectedStore = '';
    
    if (!storeData[pickupMethod]) return;
    
    var stores = storeData[pickupMethod];
    Object.keys(stores).forEach(function(region) {
        var regionDiv = document.createElement('div');
        regionDiv.className = 'store-region';
        
        var label = document.createElement('label');
        label.textContent = region;
        regionDiv.appendChild(label);
        
        var select = document.createElement('select');
        select.className = 'form-group';
        select.style.width = '100%';
        select.style.marginTop = '5px';
        
        var defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = 'é¸æ“‡é–€å¸‚';
        select.appendChild(defaultOption);
        
        stores[region].forEach(function(store) {
            var option = document.createElement('option');
            option.value = region + '-' + store;
            option.textContent = store;
            select.appendChild(option);
        });
        
        select.addEventListener('change', function(e) {
            if (e.target.value) {
                selectedStore = e.target.value;
                // æ¸…é™¤å…¶ä»–åœ°å€çš„é¸æ“‡
                storeSection.querySelectorAll('select').forEach(function(s) {
                    if (s !== e.target) s.value = '';
                });
            }
        });
        
        regionDiv.appendChild(select);
        storeSection.appendChild(regionDiv);
    });
}

pickupSelect.addEventListener('change', function() {
    var method = this.value;
    
    if (method === '7-11' || method === 'å…¨å®¶') {
        storeSelectGroup.style.display = 'block';
        addressGroup.style.display = 'none';
        renderStoreOptions(method);
    } else if (method === 'å®…é…') {
        storeSelectGroup.style.display = 'none';
        addressGroup.style.display = 'block';
        document.getElementById('addressLabel').textContent = 'æ”¶è²¨åœ°å€ *';
        document.getElementById('address').placeholder = 'è«‹å¡«å¯«å®Œæ•´åœ°å€';
    } else if (method === 'é¢äº¤') {
        storeSelectGroup.style.display = 'none';
        addressGroup.style.display = 'block';
        document.getElementById('addressLabel').textContent = 'é¢äº¤åœ°é» *';
        document.getElementById('address').placeholder = 'è«‹å¡«å¯«é¢äº¤åœ°é»(éœ€å…ˆé€éIGç¢ºèª)';
    } else {
        storeSelectGroup.style.display = 'none';
        addressGroup.style.display = 'none';
    }
});

btnPlus.addEventListener('click',function(e){e.preventDefault();qtyInput.value=parseInt(qtyInput.value)+1;updatePrice();});
btnMinus.addEventListener('click',function(e){e.preventDefault();if(parseInt(qtyInput.value)>1){qtyInput.value=parseInt(qtyInput.value)-1;updatePrice();}});

document.getElementById('orderForm').addEventListener('submit',async function(e){
    e.preventDefault();
    var submitBtn=document.getElementById('submitBtn');
    var messageDiv=document.getElementById('message');

    var phone=document.getElementById('phone').value.trim();
    var account=document.getElementById('accountLast5').value.trim();
    var pickupMethod=document.getElementById('pickup').value;
    var addressInput=document.getElementById('address').value.trim();
    
    if(!/^09\d{8}$/.test(phone)){ messageDiv.innerHTML='<div class="error-message">âŒ è«‹è¼¸å…¥æ­£ç¢ºæ‰‹æ©Ÿè™Ÿç¢¼(ä¾‹:0912345678)</div>'; return; }
    if(!/^\d{5}$/.test(account)){ messageDiv.innerHTML='<div class="error-message">âŒ å¸³è™Ÿå¾Œ5ç¢¼å¿…é ˆæ˜¯5ä½æ•¸å­—</div>'; return; }
    
    var finalAddress = '';
    if (pickupMethod === '7-11' || pickupMethod === 'å…¨å®¶') {
        if (!selectedStore) {
            messageDiv.innerHTML='<div class="error-message">âŒ è«‹é¸æ“‡é–€å¸‚</div>';
            return;
        }
        finalAddress = selectedStore;
    } else if (pickupMethod === 'å®…é…' || pickupMethod === 'é¢äº¤') {
        if (addressInput.length < 5) {
            messageDiv.innerHTML='<div class="error-message">âŒ è«‹å¡«å¯«å®Œæ•´åœ°å€æˆ–åœ°é»</div>';
            return;
        }
        finalAddress = addressInput;
    } else {
        messageDiv.innerHTML='<div class="error-message">âŒ è«‹é¸æ“‡å–è²¨æ–¹å¼</div>';
        return;
    }

    submitBtn.disabled=true; submitBtn.textContent='è™•ç†ä¸­...'; messageDiv.innerHTML='';

    try{
        var qty=parseInt(qtyInput.value);
        var subtotal=PRICE*qty;
        var shipping=(qty>=FREE_SHIPPING_QTY)?0:SHIPPING;
        var total=subtotal+shipping;
        var orderId=generateOrderId();
        var orderTime=new Date().toLocaleString('zh-TW',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',hour12:false});
        var customerName=document.getElementById('name').value;
        var customerEmail=document.getElementById('email').value;
        var note=document.getElementById('note').value||'ç„¡';

        var merchantEmailContent=`â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
ğŸ›’ æ–°è¨‚å–®é€šçŸ¥ - æ¸å‘³é£Ÿè¨˜
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
è¨‚å–®ç·¨è™Ÿ:${orderId}
è¨‚å–®æ™‚é–“:${orderTime}
å§“å:${customerName}
é›»è©±:${phone}
Email:${customerEmail}
å–è²¨æ–¹å¼:${pickupMethod}
æ”¶è²¨åœ°å€/é–€å¸‚:${finalAddress}
åŒ¯æ¬¾å¸³è™Ÿå¾Œ5ç¢¼:${account}
å•†å“åç¨±:ã€æ¸å‘³é£Ÿè¨˜ã€‘å››å·æ¿ƒé¦™å‹è¾£æ¤’é†¬
å–®åƒ¹:NT$ ${PRICE}
æ•¸é‡:${qty} ç½
å°è¨ˆ:NT$ ${subtotal}
å•†å“å°è¨ˆ:NT$ ${subtotal}
é‹è²»:${shipping===0?'å…é‹è²» âœ“':'NT$ '+shipping}
è¨‚å–®ç¸½é¡:NT$ ${total}
å‚™è¨»:${note}
æé†’äº‹é …:
${pickupMethod==='é¢äº¤'?'âš ï¸ æ­¤è¨‚å–®é¸æ“‡é¢äº¤,è«‹é€é Instagram èˆ‡å®¢æˆ¶ç¢ºèªæ™‚é–“åœ°é»':''}
${shipping===0?'âœ… æ­¤è¨‚å–®å·²é”å…é‹é–€æª»':''}`;

        // å•†å®¶ä¿¡
        await fetch('https://api.web3forms.com/submit',{
            method:'POST',
            headers:{'Content-Type':'application/json','Accept':'application/json'},
            body:JSON.stringify({access_key:WEB3FORMS_ACCESS_KEY,subject:`ğŸ›’ æ–°è¨‚å–® ${orderId} - æ¸å‘³é£Ÿè¨˜`,from_name:'æ¸å‘³é£Ÿè¨˜è¨‚è³¼ç³»çµ±',email:MERCHANT_EMAIL,message:merchantEmailContent})
        });

        // é¡§å®¢ä¿¡
        var customerEmailContent=`è¦ªæ„›çš„ ${customerName} æ‚¨å¥½:
æ„Ÿè¬æ‚¨æ–¼ æ¸å‘³é£Ÿè¨˜ ä¸‹å–®!
è¨‚å–®ç·¨è™Ÿ:${orderId}
å•†å“:ã€æ¸å‘³é£Ÿè¨˜ã€‘å››å·æ¿ƒé¦™å‹è¾£æ¤’é†¬ x ${qty} ç½
å°è¨ˆ:NT$ ${subtotal}
é‹è²»:${shipping===0?'å…é‹è²» âœ“':'NT$ '+shipping}
ç¸½è¨ˆ:NT$ ${total}
å–è²¨æ–¹å¼:${pickupMethod}
æ”¶è²¨åœ°å€/é–€å¸‚:${finalAddress}
å‚™è¨»:${note}
è«‹è¨˜ä½æ‚¨çš„è¨‚å–®ç·¨è™Ÿä»¥ä¾¿æŸ¥è©¢
âš ï¸ è‹¥é¸æ“‡é¢äº¤,è«‹é€é Instagram ç§è¨Šæˆ‘å€‘ç¢ºèªæ™‚é–“åœ°é»
Instagram: @yuweishiji`;

        await fetch('https://api.web3forms.com/submit',{
            method:'POST',
            headers:{'Content-Type':'application/json','Accept':'application/json'},
            body:JSON.stringify({access_key:WEB3FORMS_ACCESS_KEY,from_name:'æ¸å‘³é£Ÿè¨˜è¨‚è³¼ç³»çµ±',email:customerEmail,message:customerEmailContent})
        });

        messageDiv.innerHTML=`<div class="success-message">
âœ… è¨‚å–®å·²æˆåŠŸé€å‡º!<br><br>
<strong>è¨‚å–®ç·¨è™Ÿ:${orderId}</strong><br><br>
æˆ‘å€‘å·²æ”¶åˆ°æ‚¨çš„è¨‚å–®,æœƒç›¡å¿«èˆ‡æ‚¨è¯ç¹«ã€‚<br>
${pickupMethod==='é¢äº¤'?'<br>âš ï¸ æ‚¨é¸æ“‡äº†é¢äº¤,è«‹é€é Instagram ç§è¨Šæˆ‘å€‘ç¢ºèªæ™‚é–“åœ°é»ã€‚<br>':''}
<br>è«‹è¨˜ä½æ‚¨çš„è¨‚å–®ç·¨è™Ÿä»¥ä¾¿æŸ¥è©¢ã€‚<br>
ğŸ“§ ç¢ºèªä¿¡å·²ç™¼é€è‡³æ‚¨çš„ Email<br>
Instagram: @yuweishiji
</div>`;

        document.getElementById('orderForm').reset();
        qtyInput.value=1;
        selectedStore = '';
        storeSelectGroup.style.display = 'none';
        addressGroup.style.display = 'none';
        updatePrice();

    } catch(err){
        console.error(err);
        messageDiv.innerHTML=`<div class="error-message">
âŒ è¨‚å–®é€å‡ºå¤±æ•—<br><br>
è«‹ç¨å¾Œå†è©¦,æˆ–ç›´æ¥é€é Instagram è¯ç¹«æˆ‘å€‘:<br><strong>@yuweishiji</strong>
</div>`;
    } finally{
        submitBtn.disabled=false; submitBtn.textContent='ç¢ºèªè¨‚è³¼';
    }
});

updatePrice();
console.log('æ¸å‘³é£Ÿè¨˜è¨‚è³¼ç³»çµ±åˆå§‹åŒ–å®Œæˆ(å«é–€å¸‚é¸æ“‡åŠŸèƒ½)');
</script>
</body>
</html>
